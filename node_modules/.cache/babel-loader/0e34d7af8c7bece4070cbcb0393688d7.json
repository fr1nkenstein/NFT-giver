{"ast":null,"code":"import _regeneratorRuntime from \"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/vishalv/Desktop/projects/app-test/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./styles.css\";\nimport { Magic } from \"magic-sdk\";\nimport { ConnectExtension } from \"@magic-ext/connect\";\nimport Web3 from \"web3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar magic = new Magic(\"pk_live_73AAE8A5F81B1CF3\", {\n  network: \"rinkeby\",\n  locale: \"en_US\",\n  extensions: [new ConnectExtension()]\n});\nvar web3 = new Web3(magic.rpcProvider);\nexport default function App() {\n  _s();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      account = _useState2[0],\n      setAccount = _useState2[1];\n\n  var sendTransaction = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var publicAddress, txnParams;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return web3.eth.getAccounts();\n\n            case 2:\n              publicAddress = _context.sent[0];\n              console.log(\"address\" + publicAddress);\n              txnParams = {\n                from: publicAddress,\n                to: publicAddress,\n                value: web3.utils.toWei(\"0.01\", \"ether\"),\n                gasPrice: web3.utils.toWei(\"30\", \"gwei\")\n              };\n              web3.eth.sendTransaction(txnParams).on(\"transactionHash\", function (hash) {\n                console.log(\"the txn hash that was returned to the sdk:\", hash);\n              }).then(function (receipt) {\n                console.log(\"the txn receipt that was returned to the sdk:\", receipt);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendTransaction() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var login = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              web3.eth.getAccounts().then(function (accounts) {\n                setAccount(accounts === null || accounts === void 0 ? void 0 : accounts[0]);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function login() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var signMessage = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var publicAddress, signedMessage;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return web3.eth.getAccounts();\n\n            case 2:\n              publicAddress = _context3.sent[0];\n              _context3.next = 5;\n              return web3.eth.personal.sign(\"My Message\", publicAddress, \"\").catch(function (e) {\n                return console.log(e);\n              });\n\n            case 5:\n              signedMessage = _context3.sent;\n              console.log(signedMessage);\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function signMessage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var showWallet = function showWallet() {\n    magic.connect.showWallet().catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  var disconnect = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return magic.connect.disconnect().catch(function (e) {\n                console.log(e);\n              });\n\n            case 2:\n              setAccount(null);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function disconnect() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Magic Connect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), !account && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: login,\n      className: \"button-row\",\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), account && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: showWallet,\n        className: \"button-row\",\n        children: \"Show Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendTransaction,\n        className: \"button-row\",\n        children: \"Send Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signMessage,\n        className: \"button-row\",\n        children: \"Sign Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: disconnect,\n        className: \"button-row\",\n        children: \"Disconnect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"v+GsaBOyRPoPwJh7mxQ3zpEGSB8=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","Magic","ConnectExtension","Web3","magic","network","locale","extensions","web3","rpcProvider","App","account","setAccount","sendTransaction","eth","getAccounts","publicAddress","console","log","txnParams","from","to","value","utils","toWei","gasPrice","on","hash","then","receipt","catch","error","login","accounts","signMessage","personal","sign","e","signedMessage","showWallet","connect","disconnect"],"sources":["/home/vishalv/Desktop/projects/app-test/src/App.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport \"./styles.css\";\nimport { Magic } from \"magic-sdk\";\nimport { ConnectExtension } from \"@magic-ext/connect\";\nimport Web3 from \"web3\";\n\nconst magic = new Magic(\"pk_live_73AAE8A5F81B1CF3\", {\n  network: \"rinkeby\",\n  locale: \"en_US\",\n  extensions: [new ConnectExtension()]\n});\nconst web3 = new Web3(magic.rpcProvider);\n\nexport default function App() {\n  const [account, setAccount] = useState(null);\n\n  const sendTransaction = async () => {\n    const publicAddress = (await web3.eth.getAccounts())[0];\n    console.log(\"address\" + publicAddress);\n    const txnParams = {\n      from: publicAddress,\n      to: publicAddress,\n      value: web3.utils.toWei(\"0.01\", \"ether\"),\n      gasPrice: web3.utils.toWei(\"30\", \"gwei\")\n    };\n    web3.eth\n      .sendTransaction(txnParams)\n      .on(\"transactionHash\", (hash) => {\n        console.log(\"the txn hash that was returned to the sdk:\", hash);\n      })\n      .then((receipt) => {\n        console.log(\"the txn receipt that was returned to the sdk:\", receipt);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const login = async () => {\n    web3.eth\n      .getAccounts()\n      .then((accounts) => {\n        setAccount(accounts?.[0]);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const signMessage = async () => {\n    const publicAddress = (await web3.eth.getAccounts())[0];\n    const signedMessage = await web3.eth.personal\n      .sign(\"My Message\", publicAddress, \"\")\n      .catch((e) => console.log(e));\n    console.log(signedMessage);\n  };\n\n  const showWallet = () => {\n    magic.connect.showWallet().catch((e) => {\n      console.log(e);\n    });\n  };\n\n  const disconnect = async () => {\n    await magic.connect.disconnect().catch((e) => {\n      console.log(e);\n    });\n    setAccount(null);\n  };\n\n  return (\n    <div className=\"app\">\n      <h2>Magic Connect</h2>\n      {!account && (\n        <button onClick={login} className=\"button-row\">\n          Sign In\n        </button>\n      )}\n\n      {account && (\n        <>\n          <button onClick={showWallet} className=\"button-row\">\n            Show Wallet\n          </button>\n          <button onClick={sendTransaction} className=\"button-row\">\n            Send Transaction\n          </button>\n          <button onClick={signMessage} className=\"button-row\">\n            Sign Message\n          </button>\n          <button onClick={disconnect} className=\"button-row\">\n            Disconnect\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
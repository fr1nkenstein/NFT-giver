{"ast":null,"code":"import _regeneratorRuntime from\"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vishalv/Desktop/projects/app-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./styles.css\";import{Magic}from\"magic-sdk\";import{ConnectExtension}from\"@magic-ext/connect\";import Web3 from\"web3\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var magic=new Magic(\"pk_live_73AAE8A5F81B1CF3\",{network:\"rinkeby\",locale:\"en_US\",extensions:[new ConnectExtension()]});var web3=new Web3(magic.rpcProvider);export default function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),account=_useState2[0],setAccount=_useState2[1];var sendTransaction=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var publicAddress,txnParams;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return web3.eth.getAccounts();case 2:publicAddress=_context.sent[0];console.log(\"address\"+publicAddress);txnParams={from:publicAddress,to:publicAddress,value:web3.utils.toWei(\"0.01\",\"ether\"),gasPrice:web3.utils.toWei(\"30\",\"gwei\")};web3.eth.sendTransaction(txnParams).on(\"transactionHash\",function(hash){console.log(\"the txn hash that was returned to the sdk:\",hash);}).then(function(receipt){console.log(\"the txn receipt that was returned to the sdk:\",receipt);}).catch(function(error){console.log(error);});case 6:case\"end\":return _context.stop();}}},_callee);}));return function sendTransaction(){return _ref.apply(this,arguments);};}();var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:web3.eth.getAccounts().then(function(accounts){setAccount(accounts===null||accounts===void 0?void 0:accounts[0]);}).catch(function(error){console.log(error);});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function login(){return _ref2.apply(this,arguments);};}();var signMessage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var publicAddress,signedMessage;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return web3.eth.getAccounts();case 2:publicAddress=_context3.sent[0];_context3.next=5;return web3.eth.personal.sign(\"My Message\",publicAddress,\"\").catch(function(e){return console.log(e);});case 5:signedMessage=_context3.sent;console.log(signedMessage);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function signMessage(){return _ref3.apply(this,arguments);};}();var showWallet=function showWallet(){magic.connect.showWallet().catch(function(e){console.log(e);});};var createNft=function createNft(){magic.connect.showWallet().catch(function(e){console.log(e);});};var disconnect=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return magic.connect.disconnect().catch(function(e){console.log(e);});case 2:setAccount(null);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function disconnect(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Magic Connect\"}),!account&&/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"button-row\",children:\"Sign In\"}),account&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:showWallet,className:\"button-row\",children:\"Show Wallet\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendTransaction,className:\"button-row\",children:\"Send Transaction\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signMessage,className:\"button-row\",children:\"Sign Message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createNft,className:\"button-row\",children:\"Create Nft\"}),/*#__PURE__*/_jsx(\"button\",{onClick:disconnect,className:\"button-row\",children:\"Disconnect\"})]})]});}","map":{"version":3,"names":["useState","Magic","ConnectExtension","Web3","magic","network","locale","extensions","web3","rpcProvider","App","account","setAccount","sendTransaction","eth","getAccounts","publicAddress","console","log","txnParams","from","to","value","utils","toWei","gasPrice","on","hash","then","receipt","catch","error","login","accounts","signMessage","personal","sign","e","signedMessage","showWallet","connect","createNft","disconnect"],"sources":["/home/vishalv/Desktop/projects/app-test/src/App.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport \"./styles.css\";\nimport { Magic } from \"magic-sdk\";\nimport { ConnectExtension } from \"@magic-ext/connect\";\nimport Web3 from \"web3\";\n\nconst magic = new Magic(\"pk_live_73AAE8A5F81B1CF3\", {\n  network: \"rinkeby\",\n  locale: \"en_US\",\n  extensions: [new ConnectExtension()]\n});\nconst web3 = new Web3(magic.rpcProvider);\n\nexport default function App() {\n  const [account, setAccount] = useState(null);\n\n  const sendTransaction = async () => {\n    const publicAddress = (await web3.eth.getAccounts())[0];\n    console.log(\"address\" + publicAddress);\n    const txnParams = {\n      from: publicAddress,\n      to: publicAddress,\n      value: web3.utils.toWei(\"0.01\", \"ether\"),\n      gasPrice: web3.utils.toWei(\"30\", \"gwei\")\n    };\n    web3.eth\n      .sendTransaction(txnParams)\n      .on(\"transactionHash\", (hash) => {\n        console.log(\"the txn hash that was returned to the sdk:\", hash);\n      })\n      .then((receipt) => {\n        console.log(\"the txn receipt that was returned to the sdk:\", receipt);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const login = async () => {\n    web3.eth\n      .getAccounts()\n      .then((accounts) => {\n        setAccount(accounts?.[0]);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const signMessage = async () => {\n    const publicAddress = (await web3.eth.getAccounts())[0];\n    const signedMessage = await web3.eth.personal\n      .sign(\"My Message\", publicAddress, \"\")\n      .catch((e) => console.log(e));\n    console.log(signedMessage);\n  };\n\n  const showWallet = () => {\n    magic.connect.showWallet().catch((e) => {\n      console.log(e);\n    });\n  };\n\n  const createNft = () => {\n    magic.connect.showWallet().catch((e) => {\n      console.log(e);\n    });\n  };\n\n  const disconnect = async () => {\n    await magic.connect.disconnect().catch((e) => {\n      console.log(e);\n    });\n    setAccount(null);\n  };\n\n  return (\n    <div className=\"app\">\n      <h2>Magic Connect</h2>\n      {!account && (\n        <button onClick={login} className=\"button-row\">\n          Sign In\n        </button>\n      )}\n\n      {account && (\n        <>\n          <button onClick={showWallet} className=\"button-row\">\n            Show Wallet\n          </button>\n          <button onClick={sendTransaction} className=\"button-row\">\n            Send Transaction\n          </button>\n          <button onClick={signMessage} className=\"button-row\">\n            Sign Message\n          </button>\n          <button onClick={createNft} className=\"button-row\">\n            Create Nft\n          </button>\n          <button onClick={disconnect} className=\"button-row\">\n            Disconnect\n          </button>\n        </>\n\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}